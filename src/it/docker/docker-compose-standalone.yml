version: "2"
services:
  zookeeper:
    ports:
      - "2181:2181"

  kafka:
    ports:
      - "9092:9092" # Kafka Protocol
      - "9999:9999" #JMX
    environment:
      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://$HOST_IP:9092

  schema_registry:
    ports:
      - "8081:8081" # REST API

  # UI for investigating Kafka. Not necessary for running integration tests.
  kafka_manager:
    image: bgchops-docker-dockerv2-local.artifactoryonline.com/bgch-dp/kafka-manager:1.2.9.14
    links:
      - kafka
      - zookeeper
    ports:
      - "9000:9000"
    environment:
      - ZK_HOSTS=zookeeper:2181
      # - APPLICATION_SECRET=letmein
